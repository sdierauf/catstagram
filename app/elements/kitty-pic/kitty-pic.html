<dom-module id="kitty-pic">
    <style>
      :host {
        display: block;
      }

      .container {
        display: block;
        width: 90%;
        margin: 10px auto;
        padding: 20px 0;
      }

      .mainpic {
        box-sizing: border-box;
        width: 100%;
        border-style: solid;
        border-color: #fff;
        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),
                  0 1px 8px 0 rgba(0, 0, 0, 0.12),
                  0 3px 3px -2px rgba(0, 0, 0, 0.4);
        margin-bottom: 10px;
      }
      .profile {
        width: 40px;
        height: 40px;
        border-radius: 20px;
      }

      hr {
        background-color: rgb(120, 120, 120);
      }

      .desc img {
        float: left;
        width: 40px;
      }
      .desc span {
        float: right;
        width: 88%;
      }

      .clear {
        clear: both;
      }

      a {
        text-decoration: none;
        font-weight: bold;
      }

      a:hover {
        text-decoration: underline;
      }

      .comment { 
        margin: 10px 0px;
      }

      .comment span {
        margin-right: 10px;
      }
      
      .add-comment paper-input {
        display: inline-block;
        width: 75%;
      }
      
      .add-comment paper-button {
        display: inline-block;
        width: 15%;
      }

    </style>
  <template>
    <!-- ajax for submitting comment -->
    <iron-ajax
      id="commentRequest"
      url=""
      handle-as="json"
      on-response="commentResponse"
      debounce-duration="300">
   </iron-ajax>
    
    
      <div class="container">
        <img class="mainpic" src="{{kittyData.url}}">
        <div class="desc">
          <img class="profile" src="{{kittyData.user.photo}}">
          <span class="username"><a href="{{kittyData.user.photo}}">{{kittyData.user.name}}</a></span>
          <span class="description-text">{{kittyData.descriptor}}</span>
        </div>
        <div class="clear"></div>
        <hr>
        <div class="comments">
          <template is="dom-repeat" items="{{kittyData.comments}}">
            <div class="comment">
              <span><a href="{{item.user.photo}}">{{item.user.name}}</a></span>
              <span>{{item.comment}}</span>
            </div>
          </template>
          <div class="add-comment">
            <paper-input
              id="ughid" 
              placeholder="Add a comment:"
              value="{{commentString}}">
              <input is="iron-input">
            </paper-input>
            <paper-button raised on-tap="sendComment">Send</paper-button>
          </div>
          <div class="clear"></div>
        </div>
      </div>
  </template>
</dom-module>
  <script>
    Polymer({
      
      is: 'kitty-pic',


      properties: {
        commentString: {
          type: String
        },

        kittyData: {
          type: Object
        }
        /*
          looks like 
          {
            "id": 1,
            "url": "http://www.babylonpuzzles.com/6866-thickbox_default/500-pcs---curious-kitten---square-by-ravensburger.jpg",
            "descriptor": "yay a kitty",
            "user": {
              "name": "meowmeow",
              "photo": "http://avaflemingcom.ipage.com/wp-content/uploads/edd/2014/01/kim-kardashian-kitten-square-w352.jpg"
            },
            "comments": [
              {
                "id": 1,
                "user": {
                  "name": "meowmeow",
                  "photo": "http://avaflemingcom.ipage.com/wp-content/uploads/edd/2014/01/kim-kardashian-kitten-square-w352.jpg"
                },
                "comment": "wow that is a hot ass picture"
              }
            ]
          }
        */
      }

    });
  </script>
